make clean;
rm -f *.pro Makefile Makefile.*;
rm -rfd objects/;

qmake -project && \
sed -i "s/simulator\/main.C//g" code.pro && \
sed -i 's/INCLUDEPATH \+=.*/INCLUDEPATH += $(DEPENDPATH)/g' code.pro && \
echo "
   TARGET = mipscope
   QT    += opengl
   
   OBJECTS_DIR = objects/release
   MOC_DIR     = objects/release
" >> code.pro && \
qmake && \
make all && \
echo "" && echo "Project generation successful!"


"
sed -i "s/gui\/main.C//g" code.pro && \
CONFIG += debug_and_release

CONFIG(debug, debug|release) {
   TARGET = debugger    # cli
   
   OBJECTS_DIR = objects/debug
   MOC_DIR = objects/debug
} else {
   TARGET = mipscope
   
   OBJECTS_DIR = objects/release
   MOC_DIR = objects/release
   SOURCES += gui/main.C
}"
